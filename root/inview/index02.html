<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="/cmn/css/ress.css">
	<link rel="stylesheet" href="/cmn/css/cmn.css">
	<link rel="stylesheet" href="/cmn/css/slick-theme.css">
	<link rel="stylesheet" href="/inview/css/style.css">
</head>
<body>
	<header class="header">
		<ul class="header_our">
			<li class="btn_item">btn01</li>
			<li class="btn_item">btn02</li>
			<li class="btn_item head_btn"><label for="checkbox01">btn03</label></li>
		</ul>
		<input type="checkbox" id="checkbox01" class="hbg_check">
		<div class="head_item">
			<div class="head_link_out">
				<ul class="head_link">
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
					<li class="head_link_item"><a href="#">ダミーリンク</a></li>
				</ul>
			</div>
		</div>
	</header>
	<div class="head-bg"></div>
	<main>

		<section class="section01">
			<div class="section_inr">
				<h1 class="tllvl1">inview test</h1>

				<div class="news_area">
					<ul class="news_list">
						<li class="news_item">
							<dl class="news_letter">
								<dt class="news_date">1111.mm.dd</dt>
								<dd class="news_txt"><a href="">1.ニュースリリース ダミーテキストダミーテキストダミーテキストダミーテキスト</a></dd>
							</dl>
						</li>
						<li class="news_item">
							<dl class="news_letter">
								<dt class="news_date">2222.mm.dd</dt>
								<dd class="news_txt"><a href="">2.ニュースリリース ダミーテキストダミーテキストダミーテキストニュースリリース ダミーテキストダミーテキストダミーテキストニュースリリース ダミーテキストダミーテキストダミーテキスト</a></dd>
							</dl>
						</li>
						<li class="news_item">
							<dl class="news_letter">
								<dt class="news_date">3333.mm.dd</dt>
								<dd class="news_txt"><a href="">3.ニュースリリース ダミーテキスト</a></dd>
							</dl>
						</li>
					</ul>
				</div>
			</div>
		</section>

		<section class="section01">
			<div class="section_inr">
				<ul class="slide">
					<li><img src="/inview/img/img_01.jpg" alt="ダミーテキス"></li>
					<li><img src="/inview/img/img_02.jpg" alt="ダミーテキス"></li>
					<li><img src="/inview/img/img_03.jpg" alt="ダミーテキス"></li>
					<li><img src="/inview/img/img_04.jpg" alt="ダミーテキス"></li>
					<li><img src="/inview/img/img_05.jpg" alt="ダミーテキス"></li>
				</ul>
			</div>
		</section>

		<section class="section02 bgRed">
			<div class="section_inr">
				<h2 class="tllvl2">inview01</h2>
				<div class="txtImg_clm clearfix fade">
					<div class="txt_area">
						<h3 class="tllvl3">inview01 コンテンツ</h3>
						<p class="txtType01">ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。</p>
					</div>
					<div class="img"><img src="/inview/img/img_01.jpg" alt="ダミーテキス"></div>
				</div>
			</div>
		</section>
		<section class="section02 bgBlue">
			<div class="section_inr">
				<h2 class="tllvl2">inview02</h2>
				<div class="txtImg_clm clearfix fade">
					<div class="img reverse"><img src="/inview/img/img_01.jpg" alt="ダミーテキス"></div>
					<div class="txt_area reverse">
						<h3 class="tllvl3">inview02 コンテンツ</h3>
						<p class="txtType01">ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。</p>
					</div>
				</div>
			</div>
		</section>
		<section class="section02 bgRed">
			<div class="section_inr">
				<h2 class="tllvl2">inview03</h2>
				<div class="txtImg_clm clearfix fade">
					<div class="txt_area">
						<h3 class="tllvl3">inview03 コンテンツ</h3>
						<p class="txtType01">ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。</p>
					</div>
					<div class="img"><img src="/inview/img/img_01.jpg" alt="ダミーテキス"></div>
				</div>
			</div>
		</section>
		<section class="section02 bgBlue">
			<div class="section_inr">
				<h2 class="tllvl2">inview04</h2>
				<div class="txtImg_clm clearfix fade">
					<div class="txt_area reverse">
						<h3 class="tllvl3">inview04 コンテンツ</h3>
						<p class="txtType01">ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。ここにテキストが入ります。</p>
					</div>
					<div class="img reverse"><img src="/inview/img/img_01.jpg" alt="ダミーテキス"></div>
				</div>
			</div>
		</section>

		<section class="section02">
			<div class="section_inr">
				<ul class="slider">
					<li><a href="#"><img src="https://placehold.jp/400x250.png" alt="ダミーテキスト"></a></li>
					<li><img src="https://placehold.jp/cc9999/ffffff/400x250.png" alt="ダミーテキスト"></li>
					<li><a href="#"><img src="https://placehold.jp/400x250.png" alt="ダミーテキスト"></a></li>
					<li><img src="https://placehold.jp/cc9999/ffffff/400x250.png" alt="ダミーテキスト"></li>
					<li><a href="#"><img src="https://placehold.jp/400x250.png" alt="ダミーテキスト"></a></li>
					<li><img src="https://placehold.jp/cc9999/ffffff/400x250.png" alt="ダミーテキスト"></li>
				</ul>
			</div>
		</section>
	</main>

	<footer class="footer">
		<div class="footer_inr">
			<small>&#169;&#65038;copyright</small>
		</div>
	</footer>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
	<script src="/inview/js/jquery.inview.min.js"></script>
	<script src="/cmn/js/slick.min.js"></script>
	<script>
		$(function(){
			$(function() {
				$('.fade').on('inview', function(event, isInView){
					if (isInView) {
						$(this).addClass('fade-in');
					}
				});
			});

			$('.hbg_check').change(function(){
				let flg = $('.hbg_check').prop('checked');
				if(flg){
					$('.head-bg').css('display', 'block');
					$('html,body').css({
						'overflow':'hidden',
						'touch-action': 'none'
					})
				}else{
					$('.head-bg').css('display', 'none');
					$('html,body').removeAttr('style');
				}
			});

			let fadeSlide = {
				autoplay: true,
				arrows: false,
				autoplaySpeed: 3000,
				fade: true,
				slidesToShow: 1,
				slidesToScroll: 1,
			}

			let slider = {
				arrows: false,
				autoplay: true,
				autoplaySpeed: 0,
				speed: 6900,
				infinite: true,
				pauseOnHover: false,
				pauseOnFocus: false,
				cssEase: 'linear',
				slidesToShow: 4,
				slidesToScroll: 1,
				responsive: [
						{
						breakpoint: 769,
						settings: {
							slidesToShow: 2,
						}
					},
					{
						breakpoint: 426,
						settings: {
							slidesToShow: 1.5,
						}
					}
				]
			}

			$('.slide').slick(fadeSlide);
			$('.slider').slick(slider);
			
			const newsArea = $('.news_area');
			const newsList = $('.news_list');
			const newsItem = $('.news_item');
			const maxNewsItem = $(newsItem).length+1;

			// 要素のコピーと挿入
			let addItem = $(newsItem).eq(0).clone();
			$(newsList).append(addItem)

			// ニュースコンテンツの高さを合わせる。
			let calcHeight = 0;
			let changeHeight = function(){
				let newsItemHeight = 0;
				$(newsArea).removeAttr('style');
				$(newsItem).removeAttr('style');
				for(let i =0; i<maxNewsItem;i++){
					const getHeight =  $(newsItem).eq(i).height();
					if(newsItemHeight < getHeight){
						newsItemHeight = getHeight;
					};
				}
				calcHeight = newsItemHeight;
				$(newsItem).height(newsItemHeight);
				$(newsArea).height(newsItemHeight - 20);
				$(newsList).height(newsItemHeight);
			}
			changeHeight();


			// リサイズ時にコンテンツの高さ調整
			$(window).resize(function(){
				changeHeight();
			})

			// 要素のアニメーション処理
			let newsCount = 0;
			setInterval(function(){
				newsCount++;
				if(newsCount === maxNewsItem-1){
					$(newsList).css({'top':-newsCount*(calcHeight+20)+'px','transition':'1s'});
					setTimeout(function() {
						$(newsList).css({'top':'0','transition':'none'});
					}, 1500);
					newsCount = 0;
				}else{
					$(newsList).css({'top':-newsCount*(calcHeight+20)+'px','transition':'1s'});
				}
			},2000);

		});
	</script>
</body>
</html>